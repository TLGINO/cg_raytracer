\documentclass{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{gensymb}
\usepackage{multirow}
\usepackage{listings}

\title{CG assignment 7}
\author{Jeferson Morales Mariciano, Martin Lettry}
\date{\today}

\begin{document}

\maketitle

\section*{Ex 1 [7 points]}




\[
    image\_size = 10 * 10 \\
\]
\[
    p1 = (-1, -1, 2) \\
\]
\[
    p2 = (7, 1, 10) \\
\]
Computing the intersection of p1 and p2 with the image plane, we get the below result:
\[
    q1 = \frac{p1}{p1_z} = (-0.5, -0.5)
\]
\[
    q2 = \frac{p2}{p2_z} = (0.7, 0.1)
\]

As we assume that the top-left corner has coordinates (1, 1) and the bottom-right one is at (10, 10), we need to q1 and q2 to image coordinates:

\[
    q1 = [(-0.5 + 1) * \frac{10}{2} + 1, (1 - (-0.5)) * \frac{10}{2} + 1] = [3.5, 8.5] \approx [3, 8]
\]
\[
    q2 = [(0.7 + 1) * \frac{10}{2} + 1, (1 - 0.1) * \frac{10}{2} + 1]
    = [9.5, 5.5] \approx [9, 5]
\]


Computing the midpoint decider:

\begin{lstlisting}[language=Python]
def compute_midpoint():
    x1, y1 = 3, 8
    x2, y2 = 9, 5

    x, y = x1, y1

    dx = x2 - x1
    dy = abs(y2 - y1)

    f = -2 * dy + dx
    for _ in range(dx + 1):
        print(f"({x},{y})")
        x += 1
        if f < 0:
            y -= 1
            f += 2 * dx
        f -= 2 * dy
\end{lstlisting}


This gives us the following values:

(3,8), (4,8), (5,7), (6,7), (7,6), (8,6), (9,5)
So the middle value is: (6,7)

p\_z can hence be calculated the following way:

\[
    p_z = \frac{1}{(1 - \lambda) \cdot \frac{1}{p_{1z}} + \lambda \cdot \frac{1}{p_{2z}}}
\]

as (6, 7) is exactly in the middle of the line between p1 and p2:
\[
    \lambda = \frac{1}{2}
\]
Hence:
\[
    p_z = \frac{1}{(1 - \frac{1}{2}) \cdot \frac{1}{2} + \frac{1}{2} \cdot \frac{1}{10}} = \frac{10}{3} = 3.333
\]
So z-value associated with the middle pixel (along the horizontal direction) of the line is 3.33 .

\[
    p1 = rgb(1, 0, 0)
\]
\[
    p2 = rgb(0, 1, 0)
\]
As the new point lies between p1 and p2, the rgb values of the new point will be:
\begin{align*}
    rgb & = (                          \\
        & \quad 1 \cdot 0.5 + 0 * 0.5, \\
        & \quad 0 * 0.5 + 1 * 0.5,     \\
        & \quad 0                      \\
        & )                            \\
        & = (0.5, 0.5, 0)
\end{align*}






\end{document}
